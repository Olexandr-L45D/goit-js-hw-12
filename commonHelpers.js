import{a as w,i as c,S as x}from"./assets/vendor-ee72e1a4.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const g of n.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function l(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(a){if(a.ep)return;a.ep=!0;const n=l(a);fetch(a.href,n)}})();const T="https://pixabay.com/api/",v="44760113-b733d2f51a4c6409aa3483a05",i={key:v,q:"",image_type:"photo",orientation:"horizontal",safesearch:!0,page:1,per_page:15};async function f(t){i.q=t;const r=new URLSearchParams(i);return(await w.get(`${T}?${r}`)).data}c.settings({timeout:2500,resetOnHover:!0,transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight",titleSize:25,messageSize:25,backgroundColor:"rgba(255, 182, 66, 0.8)"});var B=new x(".gallery a",{captionDelay:200,captionsData:"alt"});const e={formSearchImage:document.querySelector(".uzers-form-image"),gallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector('[data-action="load-more"]'),spinnerText:document.querySelector(".spinner-text")},y=document.querySelector(".gallery");y.addEventListener("submit",p);function p(t){const r=document.getElementsByClassName(".gallery");r.innerHTML="";const l=t.map(o=>` 
    <li class="gallery-item">
    <a class="gallery-link" href="${o.largeImageURL}">
    <img class="gallery-image" src="${o.webformatURL}" alt="${o.tags}" title="${o.name}"/></a>
    <div class="gallery-paragraf">
    <p class="gallery-commant">likes ${o.likes}</p>
    <p class="gallery-commant">views ${o.views}</p>
    <p class="gallery-commant">comments ${o.comments}</p>
    <p class="gallery-commant">downloads ${o.downloads}</p>
    </div>
    </li> 
     `).join("");y.insertAdjacentHTML("beforeend",l),B.refresh()}function d(t){switch(t){case"outdata":c.warning({title:"Error",message:"Введіть данні для пошуку!"});break;case"nodata":c.warning({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});break;default:c.error({title:"Error",message:"Щось пішло не так. Ми працюемо над вирішенням питання!"});break}}const m="hidden";function s(t){t.classList.add(m)}function h(t){t.classList.remove(m)}function b(t,r){t.disabled=!0,r.classList.remove(m)}function L(t,r){t.disabled=!1,r.classList.add(m)}s(e.loadMoreBtn);s(e.spinnerText);e.formSearchImage.addEventListener("submit",E);e.loadMoreBtn.addEventListener("click",S);let u="",M=0;async function E(t){if(t.preventDefault(),e.gallery.innerHTML="",i.page=1,u=t.target.searchQuery.value.toLowerCase().trim(),u===""){d("outdata");return}s(e.loadMoreBtn),s(e.spinnerText),b(e.loadMoreBtn,e.spinnerText);try{const r=await f(u);if(M=Math.ceil(r.totalHits/i.per_page),p(r.hits),r.hits.length>0&&r.hits.length!==r.totalHits)L(e.loadMoreBtn,e.spinnerText);else if(r.hits.length===0){d("nodata"),s(e.loadMoreBtn),s(e.spinnerText);return}h(e.loadMoreBtn)}catch(r){console.log(r),d(r),s(e.loadMoreBtn),s(e.spinnerText)}finally{t.target.reset()}}function S(){i.page+=1,b(e.loadMoreBtn,e.spinnerText),setTimeout(async()=>{try{const t=await f(u);p(t.hits);const l=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:l*2,behavior:"smooth"}),h(e.spinnerText)}catch(t){console.log(t),d(t)}finally{L(e.loadMoreBtn,e.spinnerText),i.page===M&&(c.error({title:"Error",message:"We're sorry, but you've reached the end of search results."}),e.loadMoreBtn.removeEventListener("click",S),s(e.loadMoreBtn),s(e.spinnerText))}},500)}
//# sourceMappingURL=commonHelpers.js.map
