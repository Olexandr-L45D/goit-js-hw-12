import{a as y,i as c,S as M}from"./assets/vendor-ee72e1a4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function i(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(a){if(a.ep)return;a.ep=!0;const n=i(a);fetch(a.href,n)}})();const S="https://pixabay.com/api/",w="44760113-b733d2f51a4c6409aa3483a05";y.defaults.baseURL=S;const l={key:w,q:"str",page:1,per_page:15,totalHits:0};async function h(e){l.q=e;const t=new URLSearchParams(l);return(await y.get(`?${t}`)).data}c.settings({timeout:2500,resetOnHover:!0,transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight",titleSize:25,messageSize:25,backgroundColor:"rgba(255, 182, 66, 0.8)"});var B=new M(".gallery a",{captionDelay:200,captionsData:"alt"});const r={formSearchImage:document.querySelector(".uzers-form-image"),gallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector('[data-action="load-more"]'),spinnerText:document.querySelector(".spinner-text")},b=document.querySelector(".gallery");b.addEventListener("submit",f);function f(e){const t=document.getElementsByClassName(".gallery");t.innerHTML="";const i=e.map(o=>` 
    <li class="gallery-item">
    <a class="gallery-link" href="${o.largeImageURL}">
    <img class="gallery-image" src="${o.webformatURL}" alt="${o.tags}" title="${o.name}"/></a>
    <div class="gallery-paragraf">
    <p class="gallery-commant">likes ${o.likes}</p>
    <p class="gallery-commant">views ${o.views}</p>
    <p class="gallery-commant">comments ${o.comments}</p>
    <p class="gallery-commant">downloads ${o.downloads}</p>
    </div>
    </li> 
     `).join("");b.insertAdjacentHTML("beforeend",i),B.refresh()}function d(e){switch(e){case"outdata":c.warning({title:"Error",message:"Введіть данні для пошуку!"});break;case"nodata":c.warning({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});break;default:c.error({title:"Error",message:"Щось пішло не так. Ми працюемо над вирішенням питання!"});break}}const g="hidden";function s(e){e.classList.add(g)}function u(e){e.classList.remove(g)}function v(e,t){e.disabled=!0,t.classList.remove(g)}function x(e,t){e.disabled=!1,t.classList.add(g)}s(r.loadMoreBtn);s(r.spinnerText);r.formSearchImage.addEventListener("submit",E);r.loadMoreBtn.addEventListener("click",L);let m="",T=0;async function E(e){if(e.preventDefault(),r.gallery.innerHTML="",l.page=1,m=e.target.searchQuery.value.toLowerCase().trim(),m===""){d("outdata");return}u(r.loadMoreBtn),v(r.loadMoreBtn,r.spinnerText);try{const t=await h(m);if(T=Math.ceil(t.totalHits/l.per_page),t.hits.length>0&&t.hits.length!==t.totalHits)x(r.loadMoreBtn,r.spinnerText);else if(t.hits.length===0){d("nodata"),s(r.loadMoreBtn);return}f(t.hits),u(r.loadMoreBtn),u(r.spinnerText)}catch(t){console.log(t),d(t),s(r.loadMoreBtn),s(r.spinnerText)}finally{e.target.reset(),s(r.spinnerText)}}function L(){l.page+=1,s(r.loadMoreBtn),s(r.spinnerText),setTimeout(async()=>{try{const e=await h(m);f(e.hits);const i=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:i*2,behavior:"smooth"}),u(r.loadMoreBtn)}catch(e){console.log(e),d(e)}finally{l.page===l.totalHits&&(s(r.loadMoreBtn),s(r.spinnerText),c.error({title:"Error",message:"We're sorry, but you've reached the end of search results."}),r.loadMoreBtn.removeEventListener("click",L))}},500)}
//# sourceMappingURL=commonHelpers.js.map
