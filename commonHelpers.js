import{a as h,i,S as M}from"./assets/vendor-b11e2a50.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}})();const w="https://pixabay.com/api/",v="44760113-b733d2f51a4c6409aa3483a05";h.defaults.baseURL=w;const l={key:v,q:"str",page:1,per_page:15,image_type:"imageType",orientation:"horizontal",safesearch:!0,maxPage:0};async function p(t){l.q=t;const e=new URLSearchParams(l);return(await h.get(`?${e}`)).data}i.settings({timeout:2500,resetOnHover:!0,transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight",titleSize:25,messageSize:25,backgroundColor:"rgba(255, 182, 66, 0.8)"});var x=new M(".gallery a",{captionDelay:200,captionsData:"alt"});const r={formSearchImage:document.querySelector(".uzers-form-image"),gallery:document.querySelector(".gallery"),loader:document.querySelector(".loader"),loadMoreBtn:document.querySelector('[data-action="load-more"]'),spinner:document.querySelector(".spinner"),spinnerText:document.querySelector(".spinner-text")},L=document.querySelector(".gallery");L.addEventListener("submit",f);function f(t){const e=document.getElementsByClassName(".gallery");e.innerHTML="";const s=t.map(o=>` 
    <li class="gallery-item">
    <a class="gallery-link" href="${o.largeImageURL}">
    <img class="gallery-image" src="${o.webformatURL}" alt="${o.tags}" title="${o.name}"/></a>
    <div class="gallery-paragraf">
    <p class="gallery-commant">likes ${o.likes}</p>
    <p class="gallery-commant">views ${o.views}</p>
    <p class="gallery-commant">comments ${o.comments}</p>
    <p class="gallery-commant">downloads ${o.downloads}</p>
    </div>
    </li> 
     `).join("");L.insertAdjacentHTML("beforeend",s),x.refresh()}function c(t){switch(t){case"outdata":i.warning({title:"Error",message:"Введіть данні для пошуку!"});break;case"nodata":i.warning({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});break;default:i.error({title:"Error",message:"Щось пішло не так. Ми працюемо над вирішенням питання!"});break}}const d="is-hidden";function u(t){t.classList.add(d)}function y(t){t.classList.remove(d)}function b(t,e){t.disable=!0,e.classList.remove(d)}function B(t,e){t.disable=falce,e.classList.add(d)}u(r.loadMoreBtn);u(r.spinnerText);r.formSearchImage.addEventListener("submit",E);let g="";async function E(t){if(t.preventDefault(),g=t.target.searchQuery.value.toLowerCase().trim(),g===""){c("outdata");return}r.gallery.innerHTML="",l.page=1,y(r.loadMoreBtn),y(r.spinnerText),b(r.loadMoreBtn,r.spinnerText),r.loadMoreBtn.addEventListener("click",S);try{const{images:e,totalHits:s}=await p(l);l.maxPage=Math.ceil(s/l.per_page),console.log(e,s)}catch(e){console.log(e)}p(g).then(e=>{f(e.hits),e.totalHits===0?c("nodata"):u(r.loadMoreBtn)}).catch(e=>{console.log(e),c(e)}).finally(()=>t.target.reset())}async function S(t){t.page+=1,b(r.loadMoreBtn,r.spinnerText);try{const{images:e}=await p(t);f(data.hits)}catch(e){console.log(e),c(e)}finally{B(r.loadMoreBtn,r.spinnerText),t.page===t.maxPage&&(u(r.loadMoreBtn),r.loadMoreBtn.removeEventListener("click",S))}}
//# sourceMappingURL=commonHelpers.js.map
